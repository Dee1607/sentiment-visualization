{"ast":null,"code":"import _classCallCheck from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/PieChart.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport \"./CanadaMap.css\";\nimport Province from \"./Province\";\nimport { withRouter } from \"react-router-dom\";\nimport DonutJSON from \"./PieChartData.json\";\nimport PieClass from \"./PieClass\";\nimport * as d3 from \"d3\";\nimport { scaleLinear } from \"d3-scale\";\nimport WordCloud from \"./WordCloudChart\";\nimport WordCloudJSON from \"./topics.json\";\nimport TimeSeriesChart from \"./TimeSeriesChart\";\nvar colors = ['red', 'blue', 'green'];\n\nvar PieChart = /*#__PURE__*/function (_Component) {\n  _inherits(PieChart, _Component);\n\n  var _super = _createSuper(PieChart);\n\n  function PieChart(props) {\n    var _this;\n\n    _classCallCheck(this, PieChart);\n\n    _this = _super.call(this, props);\n    _this.chRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(PieChart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawChart();\n    }\n  }, {\n    key: \"drawChart\",\n    value: function drawChart() {\n      // Create dummy data\n      var data = DonutJSON;\n      var usableData = [];\n\n      for (var i = 0; i <= 15; i++) {\n        if (data[i]) {\n          if (data[i].location === this.props.location.state) {\n            usableData.push(data[i]);\n          }\n        }\n      }\n\n      console.log(usableData); // set the dimensions and margins of the graph\n\n      var width = 450,\n          height = 450,\n          margin = 40; // The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.\n\n      var radius = Math.min(width, height) / 2 - margin; // create a tooltip\n\n      var tooltip = d3.select(this.chRef.current).append(\"div\").style(\"position\", \"absolute\").style(\"visibility\", \"hidden\").text(\"I'm\"); // append the svg object to the div called 'my_dataviz'\n\n      var svg = d3.select(this.chRef.current).append(\"svg\").attr(\"width\", width).attr(\"height\", height).append(\"g\").attr(\"transform\", \"translate(\".concat(width / 2, \", \").concat(height / 2, \")\")); // Create dummy data\n      // const data = {a: 9, b: 20, c:30, d:8, e:12}\n      // set the color scale\n\n      var color = [\"#98abc5\", \"#8a89a6\", \"#7b6888\"]; // Compute the position of each group on the pie:\n\n      var pie = d3.pie().value(function (d) {\n        return d.Percentage;\n      });\n      var data_ready = pie(usableData);\n      console.log(data_ready); // Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.\n\n      svg.selectAll('whatever').data(data_ready).join('path').attr('d', d3.arc().innerRadius(0).outerRadius(radius)).attr('fill', function (d) {\n        return colors[d.index];\n      }).attr(\"stroke\", \"black\").style(\"stroke-width\", \"2px\").style(\"opacity\", 0.7).on(\"mouseover\", function (event) {\n        return tooltip.style(\"visibility\", \"visible\");\n      }).on(\"mousemove\", function (event) {\n        return tooltip.style(\"top\", event.pageY + 10 + \"px\").style(\"left\", event.pageX + 10 + \"px\");\n      }).on(\"mouseout\", function (event) {\n        return tooltip.style(\"visibility\", \"hidden\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, this.props.location.state), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.chRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(WordCloud, {\n        topics: WordCloudJSON,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(TimeSeriesChart, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 29\n        }\n      })));\n    }\n  }]);\n\n  return PieChart;\n}(Component);\n\nexport default withRouter(PieChart);","map":{"version":3,"sources":["/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/PieChart.js"],"names":["React","Component","useState","useEffect","Province","withRouter","DonutJSON","PieClass","d3","scaleLinear","WordCloud","WordCloudJSON","TimeSeriesChart","colors","PieChart","props","chRef","createRef","drawChart","data","usableData","i","location","state","push","console","log","width","height","margin","radius","Math","min","tooltip","select","current","append","style","text","svg","attr","color","pie","value","d","Percentage","data_ready","selectAll","join","arc","innerRadius","outerRadius","index","on","event","pageY","pageX"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport \"./CanadaMap.css\";\nimport Province from \"./Province\";\nimport { withRouter } from \"react-router-dom\";\nimport DonutJSON from \"./PieChartData.json\";\nimport PieClass from \"./PieClass\";\nimport * as d3 from \"d3\";\nimport {scaleLinear} from \"d3-scale\";\nimport WordCloud from \"./WordCloudChart\";\nimport WordCloudJSON from \"./topics.json\"\nimport TimeSeriesChart from \"./TimeSeriesChart\";\n\nconst colors = [ 'red' , 'blue', 'green']\nclass PieChart extends Component {\n    \n  constructor(props) {\n    super(props);\n    this.chRef = React.createRef();\n  }\n\ncomponentDidMount(){\n    this.drawChart()\n}\n\ndrawChart(){\n    // Create dummy data\n\n    const data = DonutJSON;\n    let usableData = []\n    for(let i=0; i<=15; i++){\n        if(data[i]){\n            if(data[i].location === this.props.location.state){\n\n            usableData.push(data[i]);\n            }\n        }\n    }\n     console.log(usableData);\n    // set the dimensions and margins of the graph\n    var width = 450, height = 450, margin = 40\n\n// The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.\nconst radius = Math.min(width, height) / 2 - margin;\n\n// create a tooltip\nvar tooltip = d3.select(this.chRef.current)\n  .append(\"div\")\n    .style(\"position\", \"absolute\")\n    .style(\"visibility\", \"hidden\")\n    .text(\"I'm\");\n\n// append the svg object to the div called 'my_dataviz'\nconst svg = d3.select(this.chRef.current)\n  .append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n  .append(\"g\")\n    .attr(\"transform\", `translate(${width/2}, ${height/2})`)\n\n// Create dummy data\n// const data = {a: 9, b: 20, c:30, d:8, e:12}\n\n// set the color scale\nconst color = [\"#98abc5\", \"#8a89a6\", \"#7b6888\"]\n// Compute the position of each group on the pie:\nconst pie = d3.pie()\n  .value(d => d.Percentage )  \nconst data_ready = pie(usableData)\nconsole.log(data_ready)\n\n// Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.\nsvg\n  .selectAll('whatever')\n  .data(data_ready)\n  .join('path')\n  .attr('d', d3.arc()\n    .innerRadius(0)\n    .outerRadius(radius)\n  )\n  .attr('fill', (d) =>  colors[d.index])\n  .attr(\"stroke\", \"black\")\n  .style(\"stroke-width\", \"2px\")\n  .style(\"opacity\", 0.7)\n  .on(\"mouseover\", function(event){\n    return tooltip.style(\"visibility\", \"visible\");\n  })\n  .on(\"mousemove\", function(event){return tooltip.style(\"top\", (event.pageY+10)+\"px\").style(\"left\",(event.pageX+10)+\"px\");})\n  .on(\"mouseout\", function(event){return tooltip.style(\"visibility\", \"hidden\");});\n\n}\n\nrender() {\n    return (\n      <>\n        <h1>{this.props.location.state}</h1>\n        <div className=\"row\">\n            <div className=\"col-md-4\">\n                <div ref={this.chRef}></div>\n            </div>\n            <div className=\"col-md-4\">\n              <WordCloud topics={WordCloudJSON} />\n            </div> \n            <div className=\"col-md-4\">\n              <TimeSeriesChart />\n            </div>    \n        </div>\n        <div >\n          <br /><br /><br /><br />\n        </div>\n        {/* <script src=\"https://d3js.org/d3.v6.js\"></script>\n        <script src=\"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/d3/dist/d3.js\"></script>\n        <script src=\"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/d3moji/d3moji.js\"></script> */}\n      </>\n    );\n  }\n}\n\nexport default withRouter(PieChart);\n"]},"metadata":{},"sourceType":"module"}