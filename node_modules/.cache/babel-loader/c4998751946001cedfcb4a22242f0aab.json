{"ast":null,"code":"import _slicedToArray from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/donutChart.js\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\n\nfunction PieChart(props) {\n  var data = props.data,\n      outerRadius = props.outerRadius,\n      innerRadius = props.innerRadius;\n  var margin = {\n    top: 50,\n    right: 50,\n    bottom: 50,\n    left: 50\n  };\n  var width = 2 * outerRadius + margin.left + margin.right;\n  var height = 2 * outerRadius + margin.top + margin.bottom;\n  var colorScale = d3.scaleSequential().interpolator(d3.interpolateCool).domain([0, data.length]);\n  useEffect(function () {\n    drawChart();\n  }, [data]);\n\n  function drawChart() {\n    // Remove the old svg\n    d3.select('#pie-container').select('svg').remove(); // Create new svg\n\n    var svg = d3.select('#pie-container').append('svg').attr('width', width).attr('height', height).append('g').attr('transform', \"translate(\".concat(width / 2, \", \").concat(height / 2, \")\"));\n    var arcGenerator = d3.arc().innerRadius(innerRadius).outerRadius(outerRadius);\n    var pieGenerator = d3.pie().padAngle(0).value(function (d) {\n      return d.value;\n    });\n    var arc = svg.selectAll().data(pieGenerator(data)).enter(); // Append arcs\n\n    arc.append('path').attr('d', arcGenerator).style('fill', function (_, i) {\n      return colorScale(i);\n    }).style('stroke', '#ffffff').style('stroke-width', 0); // Append text labels\n\n    arc.append('text').attr('text-anchor', 'middle').attr('alignment-baseline', 'middle').text(function (d) {\n      return d.data.label;\n    }).style('fill', function (_, i) {\n      return colorScale(data.length - i);\n    }).attr('transform', function (d) {\n      var _arcGenerator$centroi = arcGenerator.centroid(d),\n          _arcGenerator$centroi2 = _slicedToArray(_arcGenerator$centroi, 2),\n          x = _arcGenerator$centroi2[0],\n          y = _arcGenerator$centroi2[1];\n\n      return \"translate(\".concat(x, \", \").concat(y, \")\");\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"pie-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 10\n    }\n  });\n}\n\nexport default PieChart;","map":{"version":3,"sources":["/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/donutChart.js"],"names":["React","useEffect","d3","PieChart","props","data","outerRadius","innerRadius","margin","top","right","bottom","left","width","height","colorScale","scaleSequential","interpolator","interpolateCool","domain","length","drawChart","select","remove","svg","append","attr","arcGenerator","arc","pieGenerator","pie","padAngle","value","d","selectAll","enter","style","_","i","text","label","centroid","x","y"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\n\nfunction PieChart(props) {\n  const {\n    data,\n    outerRadius,\n    innerRadius,\n  } = props;\n\n  const margin = {\n    top: 50, right: 50, bottom: 50, left: 50,\n  };\n\n  const width = 2 * outerRadius + margin.left + margin.right;\n  const height = 2 * outerRadius + margin.top + margin.bottom;\n\n  const colorScale = d3     \n    .scaleSequential()      \n    .interpolator(d3.interpolateCool)      \n    .domain([0, data.length]);\n\n  useEffect(() => {\n    drawChart();\n  }, [data]);\n\n  function drawChart() {\n    // Remove the old svg\n    d3.select('#pie-container')\n      .select('svg')\n      .remove();\n\n    // Create new svg\n    const svg = d3\n      .select('#pie-container')\n      .append('svg')\n      .attr('width', width)\n      .attr('height', height)\n      .append('g')\n      .attr('transform', `translate(${width / 2}, ${height / 2})`);\n\n    const arcGenerator = d3\n      .arc()\n      .innerRadius(innerRadius)\n      .outerRadius(outerRadius);\n\n    const pieGenerator = d3\n      .pie()\n      .padAngle(0)\n      .value((d) => d.value);\n\n    const arc = svg\n      .selectAll()\n      .data(pieGenerator(data))\n      .enter();\n\n    // Append arcs\n    arc\n      .append('path')\n      .attr('d', arcGenerator)\n      .style('fill', (_, i) => colorScale(i))\n      .style('stroke', '#ffffff')\n      .style('stroke-width', 0);\n\n    // Append text labels\n    arc\n      .append('text')\n      .attr('text-anchor', 'middle')\n      .attr('alignment-baseline', 'middle')\n      .text((d) => d.data.label)\n      .style('fill', (_, i) => colorScale(data.length - i))\n      .attr('transform', (d) => {\n        const [x, y] = arcGenerator.centroid(d);\n        return `translate(${x}, ${y})`;\n      });\n  }    \n\n  return <div id=\"pie-container\" />;\n}\n\nexport default PieChart;"]},"metadata":{},"sourceType":"module"}