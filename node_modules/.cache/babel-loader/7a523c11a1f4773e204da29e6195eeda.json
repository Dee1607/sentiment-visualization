{"ast":null,"code":"import _classCallCheck from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/PieChart.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport \"./CanadaMap.css\";\nimport Province from \"./Province\";\nimport { withRouter } from \"react-router-dom\";\nimport DonutJSON from \"./PieChartData.json\";\nimport PieClass from \"./PieClass\";\nimport * as d3 from \"d3\";\nimport { scaleLinear } from \"d3-scale\";\nimport WordCloud from \"./WordCloudChart\";\nimport TimeSeriesChart from \"./TimeSeriesChart\";\nvar colors = ['red', 'blue', 'green'];\n\nvar PieChart = /*#__PURE__*/function (_Component) {\n  _inherits(PieChart, _Component);\n\n  var _super = _createSuper(PieChart);\n\n  function PieChart(props) {\n    var _this;\n\n    _classCallCheck(this, PieChart);\n\n    _this = _super.call(this, props);\n    _this.chRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(PieChart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawChart();\n    }\n  }, {\n    key: \"drawChart\",\n    value: function drawChart() {\n      // Create dummy data\n      var data = DonutJSON;\n      var usableData = [];\n\n      for (var i = 0; i <= 15; i++) {\n        if (data[i]) {\n          if (data[i].location === this.props.location.state) {\n            usableData.push(data[i]);\n          }\n        }\n      }\n\n      console.log(usableData); // set the dimensions and margins of the graph\n\n      var width = 450,\n          height = 450,\n          margin = 40; // The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.\n\n      var radius = Math.min(width, height) / 2 - margin; // append the svg object to the div called 'my_dataviz'\n\n      var svg = d3.select(this.chRef.current).append(\"svg\").attr(\"width\", width).attr(\"height\", height).append(\"g\").attr(\"transform\", \"translate(\".concat(width / 2, \",\\n\").concat(height / 2, \")\")); // Create dummy data\n      // const data = {a: 9, b: 20, c:30, d:8, e:12}\n      // set the color scale\n\n      var color = [\"#98abc5\", \"#8a89a6\", \"#7b6888\"]; // Compute the position of each group on the pie:\n\n      var pie = d3.pie().value(function (d) {\n        return d.Percentage;\n      });\n      var data_ready = pie(usableData);\n      var tooltip = d3.select(\"body\").data(data_ready).append(\"div\").style(\"position\", \"absolute\").style(\"z-index\", \"10\").style(\"visibility\", \"hidden\").style(\"background\", \"#000\"); // Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.\n\n      console.log(data_ready);\n      svg.selectAll().data(data_ready).join('path').attr('d', d3.arc().innerRadius(0).outerRadius(radius)).attr('fill', function (d) {\n        return colors[d.index];\n      }).attr(\"stroke\", \"black\").style(\"stroke-width\", \"2px\").style(\"opacity\", 0.7).on(\"mouseover\", function () {\n        d3.select(this).attr('d', function (d) {\n          return;\n          d3.arc().innerRadius(0).outerRadius(180)(d);\n        });\n        tooltip.style(\"visibility\", \"visible\");\n      }).on(\"mousemove\", function (event) {\n        return;\n        tooltip.style(\"top\", event.pageY - 10 + \"px\").style(\"left\", event.pageX + 10 + \"px\");\n      }).on(\"mouseout\", function () {\n        d3.select(this).attr('d', function (d) {\n          return;\n          d3.arc().innerRadius(0).outerRadius(radius)(d);\n        });\n        tooltip.style(\"visibility\", \"hidden\");\n      }); // shape helper to build arcs:\n\n      var arcGenerator = d3.arc().innerRadius(0).outerRadius(radius);\n      svg.selectAll('mySlices').data(data_ready).enter().append('text').text(function (d) {\n        return d.data.Percentage * 100 + \"% \" + d.data.Type;\n      }).attr(\"transform\", function (d) {\n        return \"translate(\" + arcGenerator.centroid(d) + \")\";\n      }).style(\"text-anchor\", \"middle\").style(\"font-size\", 17); // again rebind for legend\n\n      var legendG = svg.selectAll(\".legend\") // note appending it to mySvg and not svg to make positioning easier\n      .data(data_ready).enter().append(\"g\").attr(\"transform\", function (d, i) {\n        return;\n        \"translate(\" + (width - 110) + \",\" + (i * 15 + 20) + \")\"; // place each legend on the right and bump each one down 15 pixels\n      }).attr(\"class\", \"legend\");\n      legendG.append(\"rect\") // make a matching color rect\n      .attr(\"width\", 50).attr(\"height\", 50).attr(\"fill\", function (d) {\n        return colors[d.index];\n      });\n      legendG.append(\"text\") // add the text\n      .text(function (d) {\n        return;\n        d.data.Type;\n      }).style(\"font-size\", 20).attr(\"y\", 1000).attr(\"x\", 1100);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 9\n        }\n      }, this.props.location.state), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.chRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(WordCloud, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(TimeSeriesChart, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return PieChart;\n}(Component);\n\nexport default withRouter(PieChart);","map":{"version":3,"sources":["/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/PieChart.js"],"names":["React","Component","useState","useEffect","Province","withRouter","DonutJSON","PieClass","d3","scaleLinear","WordCloud","TimeSeriesChart","colors","PieChart","props","chRef","createRef","drawChart","data","usableData","i","location","state","push","console","log","width","height","margin","radius","Math","min","svg","select","current","append","attr","color","pie","value","d","Percentage","data_ready","tooltip","style","selectAll","join","arc","innerRadius","outerRadius","index","on","event","pageY","pageX","arcGenerator","enter","text","Type","centroid","legendG"],"mappings":";;;;;AAAA,OACAA,KADA,IACSC,SADT,EAEAC,QAFA,EAEUC,SAFV,QAGK,OAHL;AAKA,OACA,iBADA;AAGA,OACAC,QADA,MAEA,YAFA;AAIA,SACAC,UADA,QAEA,kBAFA;AAIA,OACAC,SADA,MAEA,qBAFA;AAIA,OACAC,QADA,MAEA,YAFA;AAIA,OACA,KACAC,EAFA,MAGA,IAHA;AAKA,SAAQC,WAAR,QAEA,UAFA;AAIA,OACAC,SADA,MAEA,kBAFA;AAIA,OACAC,eADA,MAEA,mBAFA;AAMA,IACAC,MAAM,GAAG,CAAE,KAAF,EACT,MADS,EACD,OADC,CADT;;IAOAC,Q;;;;;AAKE,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAEjB,8BAAMA,KAAN;AAEA,UAAKC,KAAL,GACJf,KAAK,CAACgB,SAAN,EADI;AAJiB;AAOlB;;;;WAIH,6BAAmB;AAEf,WAAKC,SAAL;AAEH;;;WAID,qBAAW;AAEP;AAIA,UACJC,IAAI,GAAGZ,SADH;AAGA,UACJa,UAAU,GAAG,EADT;;AAGA,WAAI,IACRC,CAAC,GAAC,CADE,EAEJA,CAAC,IAAE,EAFC,EAGJA,CAAC,EAHG,EAGA;AAEI,YAAGF,IAAI,CAACE,CAAD,CAAP,EAAW;AAEP,cAAGF,IAAI,CAACE,CAAD,CAAJ,CAAQC,QAAR,KACf,KAAKP,KAAL,CAAWO,QAAX,CAAoBC,KADR,EACc;AAIdH,YAAAA,UAAU,CAACI,IAAX,CAAgBL,IAAI,CAACE,CAAD,CAApB;AAEC;AAEJ;AAEJ;;AAEAI,MAAAA,OAAO,CAACC,GAAR,CAAYN,UAAZ,EAhCM,CAkCP;;AAEA,UACJO,KAAK,GAAG,GADJ;AAAA,UAEJC,MAAM,GAAG,GAFL;AAAA,UAGJC,MAAM,GAAG,EAHL,CApCO,CA2CX;;AAEA,UACAC,MAAM,GAAGC,IAAI,CAACC,GAAL,CAASL,KAAT,EACTC,MADS,IAET,CAFS,GAELC,MAHJ,CA7CW,CAoDX;;AAEA,UACAI,GAAG,GAAGxB,EAAE,CAACyB,MAAH,CAAU,KAAKlB,KAAL,CAAWmB,OAArB,EAEHC,MAFG,CAEI,KAFJ,EAIDC,IAJC,CAII,OAJJ,EAKNV,KALM,EAODU,IAPC,CAOI,QAPJ,EAQNT,MARM,EAUHQ,MAVG,CAUI,GAVJ,EAYDC,IAZC,CAYI,WAZJ,sBAaOV,KAAK,GAAC,CAbb,gBAcJC,MAAM,GAAC,CAdH,OADN,CAtDW,CAyEX;AAEA;AAIA;;AAEA,UACAU,KAAK,GAAG,CAAC,SAAD,EACR,SADQ,EACG,SADH,CADR,CAjFW,CAqFX;;AAEA,UACAC,GAAG,GAAG9B,EAAE,CAAC8B,GAAH,GAEHC,KAFG,CAEG,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,UAAN;AAAA,OAFJ,CADN;AAKA,UACAC,UAAU,GAAGJ,GAAG,CAACnB,UAAD,CADhB;AAKA,UACAwB,OAAO,GAAGnC,EAAE,CAACyB,MAAH,CAAU,MAAV,EAELf,IAFK,CAEAwB,UAFA,EAILP,MAJK,CAIE,KAJF,EAMLS,KANK,CAMC,UAND,EAOV,UAPU,EASLA,KATK,CASC,SATD,EAUV,IAVU,EAYLA,KAZK,CAYC,YAZD,EAaV,QAbU,EAeLA,KAfK,CAeC,YAfD,EAgBV,MAhBU,CADV,CAjGW,CAoHP;;AAMJpB,MAAAA,OAAO,CAACC,GAAR,CAAYiB,UAAZ;AAEAV,MAAAA,GAAG,CAEAa,SAFH,GAIG3B,IAJH,CAIQwB,UAJR,EAMGI,IANH,CAMQ,MANR,EAQGV,IARH,CAQQ,GARR,EASA5B,EAAE,CAACuC,GAAH,GAEKC,WAFL,CAEiB,CAFjB,EAIKC,WAJL,CAIiBpB,MAJjB,CATA,EAiBGO,IAjBH,CAiBQ,MAjBR,EAiBgB,UAACI,CAAD;AAAA,eAAQ5B,MAAM,CAAC4B,CAAC,CAACU,KAAH,CAAd;AAAA,OAjBhB,EAmBGd,IAnBH,CAmBQ,QAnBR,EAoBA,OApBA,EAsBGQ,KAtBH,CAsBS,cAtBT,EAuBA,KAvBA,EAyBGA,KAzBH,CAyBS,SAzBT,EA0BA,GA1BA,EA4BGO,EA5BH,CA4BM,WA5BN,EA6BA,YAAU;AAAC3C,QAAAA,EAAE,CAACyB,MAAH,CAAU,IAAV,EAAgBG,IAAhB,CAAqB,GAArB,EAAyB,UAASI,CAAT,EAAW;AAC/C;AACAhC,UAAAA,EAAE,CAACuC,GAAH,GAASC,WAAT,CAAqB,CAArB,EAE2CC,WAF3C,CAEuD,GAFvD,EAE4DT,CAF5D;AAE+D,SAJpD;AAOXG,QAAAA,OAAO,CAACC,KAAR,CAAc,YAAd,EACA,SADA;AAGyC,OAvCzC,EAyCGO,EAzCH,CAyCM,WAzCN,EA0CA,UAASC,KAAT,EAAe;AAAC;AAChBT,QAAAA,OAAO,CAACC,KAAR,CAAc,KAAd,EAAsBQ,KAAK,CAACC,KAAN,GAAY,EAAb,GAAiB,IAAtC,EAA4CT,KAA5C,CAAkD,MAAlD,EAA0DQ,KAAK,CAACE,KAAN,GAAY,EAAb,GAAiB,IAA1E;AAAiF,OA3CjF,EA6CGH,EA7CH,CA6CM,UA7CN,EA8CA,YAAU;AAEN3C,QAAAA,EAAE,CAACyB,MAAH,CAAU,IAAV,EAAgBG,IAAhB,CAAqB,GAArB,EAAyB,UAASI,CAAT,EAAW;AAAC;AACzChC,UAAAA,EAAE,CAACuC,GAAH,GAASC,WAAT,CAAqB,CAArB,EAAwBC,WAAxB,CAAoCpB,MAApC,EAA4CW,CAA5C;AAA+C,SAD3C;AAGgBG,QAAAA,OAAO,CAACC,KAAR,CAAc,YAAd,EACpB,QADoB;AAGjB,OAtDH,EA5HW,CAsLT;;AAEF,UACAW,YAAY,GAAG/C,EAAE,CAACuC,GAAH,GAEdC,WAFc,CAEF,CAFE,EAIdC,WAJc,CAIFpB,MAJE,CADf;AASEG,MAAAA,GAAG,CAEFa,SAFD,CAEW,UAFX,EAIC3B,IAJD,CAIMwB,UAJN,EAMCc,KAND,GAQCrB,MARD,CAQQ,MARR,EAUCsB,IAVD,CAUM,UAASjB,CAAT,EAAW;AACnB,eAAOA,CAAC,CAACtB,IAAF,CAAOuB,UAAP,GAAkB,GAAlB,GAAwB,IAAxB,GAA8BD,CAAC,CAACtB,IAAF,CAAOwC,IAA5C;AAAiD,OAX/C,EAaCtB,IAbD,CAaM,WAbN,EAcF,UAASI,CAAT,EAAY;AACZ,eAAO,eAAee,YAAY,CAACI,QAAb,CAAsBnB,CAAtB,CAAf,GAA0C,GAAjD;AAAwD,OAftD,EAiBCI,KAjBD,CAiBO,aAjBP,EAkBF,QAlBE,EAoBCA,KApBD,CAoBO,WApBP,EAqBF,EArBE,EAjMS,CA0NX;;AAEA,UACAgB,OAAO,GAAG5B,GAAG,CAACa,SAAJ,CAAc,SAAd,EACV;AADU,OAGP3B,IAHO,CAGFwB,UAHE,EAKPc,KALO,GAKCrB,MALD,CAKQ,GALR,EAOPC,IAPO,CAOF,WAPE,EAQV,UAASI,CAAT,EAAWpB,CAAX,EAAa;AAET;AACJ,wBAAgBM,KAAK,GACrB,GADA,IACO,GADP,IACcN,CAAC,GACf,EADc,GAEd,EAHA,IAGM,GAHN,CAHa,CAOb;AAEG,OAjBO,EAmBPgB,IAnBO,CAmBF,OAnBE,EAoBV,QApBU,CADV;AAyBAwB,MAAAA,OAAO,CAACzB,MAAR,CAAe,MAAf,EACA;AADA,OAGGC,IAHH,CAGQ,OAHR,EAIA,EAJA,EAMGA,IANH,CAMQ,QANR,EAOA,EAPA,EASGA,IATH,CASQ,MATR,EAWI,UAACI,CAAD;AAAA,eAAQ5B,MAAM,CAAC4B,CAAC,CAACU,KAAH,CAAd;AAAA,OAXJ;AAiBAU,MAAAA,OAAO,CAACzB,MAAR,CAAe,MAAf,EACA;AADA,OAGGsB,IAHH,CAGQ,UAASjB,CAAT,EAAW;AAEf;AACJA,QAAAA,CAAC,CAACtB,IAAF,CAAOwC,IAAP;AAEG,OARH,EAUGd,KAVH,CAUS,WAVT,EAWA,EAXA,EAaGR,IAbH,CAaQ,GAbR,EAcA,IAdA,EAgBGA,IAhBH,CAgBQ,GAhBR,EAiBA,IAjBA;AAqBC;;;WAID,kBAAS;AAEL,0BAEE,uDAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKtB,KAAL,CAAWO,QAAX,CAAoBC,KAAzB,CAFF,eAIE;AACR,QAAA,SAAS,EAAC,KADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGI;AACZ,QAAA,SAAS,EAAC,UADE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGI;AAChB,QAAA,GAAG,EAAE,KAAKP,KADM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CAHJ,eAWI;AACZ,QAAA,SAAS,EAAC,UADE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHA,CAXJ,eAmBI;AACZ,QAAA,SAAS,EAAC,UADE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGA,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHA,CAnBJ,CAJF,CAFF;AA6CD;;;;EArWHd,S;;AA2WA,eACQI,UAAU,CAACQ,QAAD,CADlB","sourcesContent":["import \nReact, { Component, \nuseState, useEffect } \nfrom \"react\";\n\nimport \n\"./CanadaMap.css\";\n\nimport \nProvince from \n\"./Province\";\n\nimport { \nwithRouter } from \n\"react-router-dom\";\n\nimport \nDonutJSON from \n\"./PieChartData.json\";\n\nimport \nPieClass from \n\"./PieClass\";\n\nimport \n* as \nd3 from \n\"d3\";\n\nimport {scaleLinear}\nfrom \n\"d3-scale\";\n\nimport \nWordCloud from \n\"./WordCloudChart\";\n\nimport \nTimeSeriesChart from \n\"./TimeSeriesChart\";\n\n\n\nconst \ncolors = [ 'red' , \n'blue', 'green']\n\n\n\nclass \nPieChart extends \nComponent {\n\n    \n\n  constructor(props) {\n\n    super(props);\n\n    this.chRef =\nReact.createRef();\n\n  }\n\n\n\ncomponentDidMount(){\n\n    this.drawChart()\n\n}\n\n\n\ndrawChart(){\n\n    // Create dummy data\n\n\n\n    const \ndata = DonutJSON;\n\n    let \nusableData = []\n\n    for(let\ni=0;\ni<=15;\ni++){\n\n        if(data[i]){\n\n            if(data[i].location ===\nthis.props.location.state){\n\n\n\n            usableData.push(data[i]);\n\n            }\n\n        }\n\n    }\n\n     console.log(usableData);\n\n    // set the dimensions and margins of the graph\n\n    var \nwidth = 450, \nheight = 450, \nmargin = 40\n\n\n\n// The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.\n\nconst \nradius = Math.min(width,\nheight) / \n2 - margin;\n\n\n\n// append the svg object to the div called 'my_dataviz'\n\nconst \nsvg = d3.select(this.chRef.current)\n\n  .append(\"svg\")\n\n    .attr(\"width\",\nwidth)\n\n    .attr(\"height\",\nheight)\n\n  .append(\"g\")\n\n    .attr(\"transform\",\n`translate(${width/2},\n${height/2})`);\n\n\n\n// Create dummy data\n\n// const data = {a: 9, b: 20, c:30, d:8, e:12}\n\n\n\n// set the color scale\n\nconst \ncolor = [\"#98abc5\", \n\"#8a89a6\", \"#7b6888\"]\n\n// Compute the position of each group on the pie:\n\nconst \npie = d3.pie()\n\n  .value(d => d.Percentage )  \n\nconst \ndata_ready = pie(usableData)\n\n\n\nvar \ntooltip = d3.select(\"body\")\n\n    .data(data_ready)\n\n    .append(\"div\")\n\n    .style(\"position\",\n\"absolute\")\n\n    .style(\"z-index\",\n\"10\")\n\n    .style(\"visibility\",\n\"hidden\")\n\n    .style(\"background\",\n\"#000\");\n\n    // Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.\n\n\n\n\n\nconsole.log(data_ready);\n\nsvg\n\n  .selectAll()\n\n  .data(data_ready)\n\n  .join('path')\n\n  .attr('d',\nd3.arc()\n\n    .innerRadius(0)\n\n    .outerRadius(radius)\n\n  )\n\n  .attr('fill', (d) =>  colors[d.index])\n\n  .attr(\"stroke\",\n\"black\")\n\n  .style(\"stroke-width\",\n\"2px\")\n\n  .style(\"opacity\",\n0.7)\n\n  .on(\"mouseover\",  \nfunction(){d3.select(this).attr('d',function(d){\nreturn \nd3.arc().innerRadius(0)\n\n                                          .outerRadius(180)(d)});\n\n                                          \ntooltip.style(\"visibility\",\n\"visible\")\n\n                                        })\n\n  .on(\"mousemove\",\nfunction(event){return\ntooltip.style(\"top\", (event.pageY-10)+\"px\").style(\"left\",(event.pageX+10)+\"px\");})\n\n  .on(\"mouseout\",\nfunction(){\n\n    d3.select(this).attr('d',function(d){return\nd3.arc().innerRadius(0).outerRadius(radius)(d)});\n\n                    tooltip.style(\"visibility\",\n\"hidden\");\n\n  })\n\n\n\n  // shape helper to build arcs:\n\nvar \narcGenerator = d3.arc()\n\n.innerRadius(0)\n\n.outerRadius(radius)\n\n\n\n  svg\n\n  .selectAll('mySlices')\n\n  .data(data_ready)\n\n  .enter()\n\n  .append('text')\n\n  .text(function(d){\nreturn d.data.Percentage*100 + \"% \"+ d.data.Type})\n\n  .attr(\"transform\",\nfunction(d) {\nreturn \"translate(\" + arcGenerator.centroid(d) + \")\";  })\n\n  .style(\"text-anchor\",\n\"middle\")\n\n  .style(\"font-size\",\n17)\n\n\n\n// again rebind for legend\n\nvar \nlegendG = svg.selectAll(\".legend\")\n// note appending it to mySvg and not svg to make positioning easier\n\n  .data(data_ready)\n\n  .enter().append(\"g\")\n\n  .attr(\"transform\",\nfunction(d,i){\n\n    return \n\"translate(\" + (width - \n110) + \",\" + (i *\n15 + \n20) + \")\"; \n// place each legend on the right and bump each one down 15 pixels\n\n  })\n\n  .attr(\"class\",\n\"legend\");   \n\n\n\nlegendG.append(\"rect\")\n// make a matching color rect\n\n  .attr(\"width\",\n50)\n\n  .attr(\"height\",\n50)\n\n  .attr(\"fill\",\n\n    (d) =>  colors[d.index]\n\n  );\n\n\n\nlegendG.append(\"text\")\n// add the text\n\n  .text(function(d){\n\n    return \nd.data.Type;\n\n  })\n\n  .style(\"font-size\",\n20)\n\n  .attr(\"y\",\n1000)\n\n  .attr(\"x\",\n1100);\n\n\n\n}\n\n\n\nrender() {\n\n    return (\n\n      <>\n\n        <h1>{this.props.location.state}</h1>\n\n        <div\nclassName=\"row\">\n\n            <div\nclassName=\"col-md-4\">\n\n                <div\nref={this.chRef}></div>\n\n            </div>\n\n            <div\nclassName=\"col-md-4\">\n\n            <WordCloud\n/>\n\n            </div>\n\n            <div\nclassName=\"col-md-4\">\n\n            <TimeSeriesChart\n/>\n\n            </div>    \n\n        </div>\n\n        {/* <script src=\"https://d3js.org/d3.v6.js\"></script>\n\n        <script src=\"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/d3/dist/d3.js\"></script>\n\n        <script src=\"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/d3moji/d3moji.js\"></script> */}\n\n      </>\n\n    );\n\n  }\n\n}\n\n\n\nexport \ndefault withRouter(PieChart);"]},"metadata":{},"sourceType":"module"}