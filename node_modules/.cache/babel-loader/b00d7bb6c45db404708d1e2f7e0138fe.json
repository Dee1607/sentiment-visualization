{"ast":null,"code":"import _slicedToArray from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/PieChart.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport \"./CanadaMap.css\";\nimport Province from \"./Province\";\nimport { withRouter } from \"react-router-dom\";\nimport DonutJSON from \"./PieChartData.json\";\nimport PieClass from \"./PieClass\";\nimport * as d3 from \"d3\";\n\nvar PieChart = /*#__PURE__*/function (_Component) {\n  _inherits(PieChart, _Component);\n\n  var _super = _createSuper(PieChart);\n\n  function PieChart(props) {\n    var _this;\n\n    _classCallCheck(this, PieChart);\n\n    _this = _super.call(this, props);\n    var data = DonutJSON;\n    var usableData = {};\n\n    for (var i = 0; i <= 15; i++) {\n      if (data[i]) {\n        if (data[i].location === _this.props.location.state) {\n          // console.log(data[i].province)\n          usableData = data[i];\n        }\n      }\n    }\n\n    var _React$useState = React.useState([]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        pieData = _React$useState2[0],\n        setPieData = _React$useState2[1];\n\n    var _React$useState3 = React.useState(true),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        loading = _React$useState4[0],\n        setLoading = _React$useState4[1];\n\n    React.useEffect(function () {\n      d3.json(usableData).then(function (d) {\n        setPieData(d);\n        setLoading(false);\n      });\n      return function () {\n        return undefined;\n      };\n    }, []); // console.log(\"PROVINCE_DATA\",usableData)\n    //     const generateData = (value, length = 5) =>\n    //         d3.range(length).map((item, index) => ({\n    //         date: index,\n    //         value: value === null || value === undefined ? Math.random() * 100 : value\n    //         }));\n    //     const [data, setData] = useState(generateData(0));\n    //     console.log(data);\n    //     const changeData = () => {\n    //         setData(generateData());\n    //     };\n    //     useEffect(() => {\n    //         setData(generateData());\n    //     }, [!data]);\n\n    return _this;\n  }\n\n  _createClass(PieChart, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      }, this.props.location.state), loading && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, \"loading\"), !loading && /*#__PURE__*/React.createElement(BarChart, {\n        data: data,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 22\n        }\n      }));\n    }\n  }]);\n\n  return PieChart;\n}(Component);\n\nexport default withRouter(PieChart);","map":{"version":3,"sources":["/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/PieChart.js"],"names":["React","Component","useState","useEffect","Province","withRouter","DonutJSON","PieClass","d3","PieChart","props","data","usableData","i","location","state","pieData","setPieData","loading","setLoading","json","then","d","undefined"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,OAAO,iBAAP;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;IAEMC,Q;;;;;AACJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,QAAMC,IAAI,GAAGL,SAAb;AACA,QAAIM,UAAU,GAAG,EAAjB;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,IAAE,EAAhB,EAAoBA,CAAC,EAArB,EAAwB;AACpB,UAAGF,IAAI,CAACE,CAAD,CAAP,EAAW;AACP,YAAGF,IAAI,CAACE,CAAD,CAAJ,CAAQC,QAAR,KAAqB,MAAKJ,KAAL,CAAWI,QAAX,CAAoBC,KAA5C,EAAkD;AAClD;AACAH,UAAAA,UAAU,GAAGD,IAAI,CAACE,CAAD,CAAjB;AACC;AACJ;AACJ;;AACD,0BAA8Bb,KAAK,CAACE,QAAN,CAAe,EAAf,CAA9B;AAAA;AAAA,QAAOc,OAAP;AAAA,QAAgBC,UAAhB;;AACA,2BAA8BjB,KAAK,CAACE,QAAN,CAAe,IAAf,CAA9B;AAAA;AAAA,QAAOgB,OAAP;AAAA,QAAgBC,UAAhB;;AACAnB,IAAAA,KAAK,CAACG,SAAN,CAAgB,YAAM;AAClBK,MAAAA,EAAE,CAACY,IAAH,CAAQR,UAAR,EAAoBS,IAApB,CAAyB,UAACC,CAAD,EAAO;AAC5BL,QAAAA,UAAU,CAACK,CAAD,CAAV;AACAH,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OAHD;AAIA,aAAO;AAAA,eAAMI,SAAN;AAAA,OAAP;AACH,KAND,EAMG,EANH,EAdiB,CAqBjB;AAEJ;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AArCqB;AAsClB;;;;WACD,kBAAS;AACP,0BACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKb,KAAL,CAAWI,QAAX,CAAoBC,KAAzB,CADF,EAEGG,OAAO,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFd,EAGG,CAACA,OAAD,iBAAY,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAEP,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHf,CADF;AAcD;;;;EAvDoBV,S;;AA0DvB,eAAeI,UAAU,CAACI,QAAD,CAAzB","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport \"./CanadaMap.css\";\nimport Province from \"./Province\";\nimport { withRouter } from \"react-router-dom\";\nimport DonutJSON from \"./PieChartData.json\";\nimport PieClass from \"./PieClass\";\nimport * as d3 from \"d3\";\n\nclass PieChart extends Component {\n  constructor(props) {\n    super(props);\n    const data = DonutJSON;\n    let usableData = {}\n    for(let i=0; i<=15; i++){\n        if(data[i]){\n            if(data[i].location === this.props.location.state){\n            // console.log(data[i].province)\n            usableData = data[i];\n            }\n        }\n    }\n    const [pieData, setPieData] = React.useState([]);\n    const [loading, setLoading] = React.useState(true);\n    React.useEffect(() => {\n        d3.json(usableData).then((d) => {\n            setPieData(d);\n            setLoading(false);\n        });\n        return () => undefined;\n    }, []);\n    // console.log(\"PROVINCE_DATA\",usableData)\n\n//     const generateData = (value, length = 5) =>\n//         d3.range(length).map((item, index) => ({\n//         date: index,\n//         value: value === null || value === undefined ? Math.random() * 100 : value\n//         }));\n\n//     const [data, setData] = useState(generateData(0));\n//     console.log(data);\n//     const changeData = () => {\n//         setData(generateData());\n//     };\n\n//     useEffect(() => {\n//         setData(generateData());\n//     }, [!data]);\n  }\n  render() {\n    return (\n      <>\n        <h1>{this.props.location.state}</h1>\n        {loading && <div>loading</div>}\n        {!loading && <BarChart data={data} />}\n        {/* <PieClass\n          data={this.data}\n          width={200}\n          height={200}\n          innerRadius={60}\n          outerRadius={100}\n        /> */}\n      </>\n    );\n  }\n}\n\nexport default withRouter(PieChart);\n"]},"metadata":{},"sourceType":"module"}