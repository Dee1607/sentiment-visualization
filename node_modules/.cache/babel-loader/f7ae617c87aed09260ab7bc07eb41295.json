{"ast":null,"code":"import _classCallCheck from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/donutChart.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nvar DonutChart = /*#__PURE__*/function (_Component) {\n  _inherits(DonutChart, _Component);\n\n  var _super = _createSuper(DonutChart);\n\n  function DonutChart(props) {\n    var _this;\n\n    _classCallCheck(this, DonutChart);\n\n    _this = _super.call(this, props);\n    _this.chRef = React.createRef();\n    return _this;\n  } // Chart load after component Mount\n\n\n  _createClass(DonutChart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawChart();\n    } // DrawChart\n\n  }, {\n    key: \"drawChart\",\n    value: function drawChart() {\n      var dataset = this.props.dataset; // console.log(data)\n\n      var pie = d3.pie().value(function (d) {\n        return d.percentage;\n      }).sort(null).padAngle(.03);\n      var w = 300,\n          h = 300;\n      var outerRadius = w / 2;\n      var innerRadius = 100;\n      var color = d3.category10();\n      var arc = d3.svg.arc().outerRadius(outerRadius).innerRadius(innerRadius);\n      var svg = d3.select(\"#chart\").append(\"svg\").attr({\n        width: w,\n        height: h,\n        class: 'shadow'\n      }).append('g').attr({\n        transform: 'translate(' + w / 2 + ',' + h / 2 + ')'\n      });\n      var path = svg.selectAll('path').data(pie(dataset)).enter().append('path').attr({\n        d: arc,\n        fill: function fill(d, i) {\n          return color(d.data.name);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.chRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"script\", {\n        src: \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/d3/dist/d3.js\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"script\", {\n        src: \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/d3moji/d3moji.js\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }));\n    }\n  }]);\n\n  return DonutChart;\n}(Component);\n\nexport default DonutChart;","map":{"version":3,"sources":["/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/donutChart.js"],"names":["React","Component","d3","DonutChart","props","chRef","createRef","drawChart","dataset","pie","value","d","percentage","sort","padAngle","w","h","outerRadius","innerRadius","color","category10","arc","svg","select","append","attr","width","height","class","transform","path","selectAll","data","enter","fill","i","name"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAiBC,SAAjB,QAAiC,OAAjC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;;IAEMC,U;;;;;AAEF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAaL,KAAK,CAACM,SAAN,EAAb;AAFe;AAGlB,G,CAED;;;;;WACA,6BAAoB;AAChB,WAAKC,SAAL;AACH,K,CAED;;;;WACA,qBAAW;AACP,UAAOC,OAAP,GAAkB,KAAKJ,KAAvB,CAAOI,OAAP,CADO,CAEP;;AAEA,UAAIC,GAAG,GAACP,EAAE,CAACO,GAAH,GACCC,KADD,CACO,UAASC,CAAT,EAAW;AAAC,eAAOA,CAAC,CAACC,UAAT;AAAoB,OADvC,EAECC,IAFD,CAEM,IAFN,EAGCC,QAHD,CAGU,GAHV,CAAR;AAKA,UAAIC,CAAC,GAAC,GAAN;AAAA,UAAUC,CAAC,GAAC,GAAZ;AAEA,UAAIC,WAAW,GAACF,CAAC,GAAC,CAAlB;AACA,UAAIG,WAAW,GAAC,GAAhB;AAEA,UAAIC,KAAK,GAAGjB,EAAE,CAACkB,UAAH,EAAZ;AAEA,UAAIC,GAAG,GAACnB,EAAE,CAACoB,GAAH,CAAOD,GAAP,GACCJ,WADD,CACaA,WADb,EAECC,WAFD,CAEaA,WAFb,CAAR;AAIA,UAAII,GAAG,GAACpB,EAAE,CAACqB,MAAH,CAAU,QAAV,EACCC,MADD,CACQ,KADR,EAECC,IAFD,CAEM;AACFC,QAAAA,KAAK,EAACX,CADJ;AAEFY,QAAAA,MAAM,EAACX,CAFL;AAGFY,QAAAA,KAAK,EAAC;AAHJ,OAFN,EAMGJ,MANH,CAMU,GANV,EAOCC,IAPD,CAOM;AACFI,QAAAA,SAAS,EAAC,eAAad,CAAC,GAAC,CAAf,GAAiB,GAAjB,GAAqBC,CAAC,GAAC,CAAvB,GAAyB;AADjC,OAPN,CAAR;AAWA,UAAIc,IAAI,GAACR,GAAG,CAACS,SAAJ,CAAc,MAAd,EACAC,IADA,CACKvB,GAAG,CAACD,OAAD,CADR,EAEAyB,KAFA,GAGAT,MAHA,CAGO,MAHP,EAIAC,IAJA,CAIK;AACFd,QAAAA,CAAC,EAACU,GADA;AAEFa,QAAAA,IAAI,EAAC,cAASvB,CAAT,EAAWwB,CAAX,EAAa;AACd,iBAAOhB,KAAK,CAACR,CAAC,CAACqB,IAAF,CAAOI,IAAR,CAAZ;AACH;AAJC,OAJL,CAAT;AAUH;;;WAED,kBAAS;AACL,0BAAO,uDACH;AAAK,QAAA,GAAG,EAAE,KAAK/B,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADG,eAEH;AAAQ,QAAA,GAAG,EAAC,4FAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFG,eAGH;AAAQ,QAAA,GAAG,EAAC,+FAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHG,CAAP;AAMH;;;;EA/DoBJ,S;;AAkEzB,eAAeE,UAAf","sourcesContent":["import React , { Component} from 'react';\nimport * as d3 from 'd3';\n\nclass DonutChart extends Component {\n\n    constructor(props) {\n        super(props);\n        this.chRef = React.createRef();\n    }\n \n    // Chart load after component Mount\n    componentDidMount() {\n        this.drawChart()\n    }\n \n    // DrawChart\n    drawChart(){\n        const {dataset} = this.props;\n        // console.log(data)\n\n        var pie=d3.pie()\n                .value(function(d){return d.percentage})\n                .sort(null)\n                .padAngle(.03);\n    \n        var w=300,h=300;\n    \n        var outerRadius=w/2;\n        var innerRadius=100;\n    \n        var color = d3.category10();\n    \n        var arc=d3.svg.arc()\n                .outerRadius(outerRadius)\n                .innerRadius(innerRadius);\n    \n        var svg=d3.select(\"#chart\")\n                .append(\"svg\")\n                .attr({\n                    width:w,\n                    height:h,\n                    class:'shadow'\n                }).append('g')\n                .attr({\n                    transform:'translate('+w/2+','+h/2+')'\n                });\n    \n        var path=svg.selectAll('path')\n                .data(pie(dataset))\n                .enter()\n                .append('path')\n                .attr({\n                    d:arc,\n                    fill:function(d,i){\n                        return color(d.data.name);\n                    }\n                });\n    } \n \n    render() {\n        return <>\n            <div ref={this.chRef}></div> \n            <script src=\"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/d3/dist/d3.js\"></script>\n            <script src=\"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/d3moji/d3moji.js\"></script>\n            \n        </>\n    }\n}\n \nexport default DonutChart;\n"]},"metadata":{},"sourceType":"module"}