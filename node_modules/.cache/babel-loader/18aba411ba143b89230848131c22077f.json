{"ast":null,"code":"import _classCallCheck from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/PieChart.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport DonutJSON from \"./PieChartData.json\";\nimport * as d3 from \"d3\";\nimport WordCloud from \"./WordCloud\";\nimport TimeSeriesChart from \"./TimeSeriesChart\";\nimport TopicJSON from \"./topics.json\";\nvar colors = ['red', 'blue', 'green'];\nvar topics = TopicJSON;\n\nvar PieChart = /*#__PURE__*/function (_Component) {\n  _inherits(PieChart, _Component);\n\n  var _super = _createSuper(PieChart);\n\n  function PieChart(props) {\n    var _this;\n\n    _classCallCheck(this, PieChart);\n\n    _this = _super.call(this, props);\n    _this.chRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(PieChart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.drawChart();\n    }\n  }, {\n    key: \"drawChart\",\n    value: function drawChart() {\n      // set the dimensions and margins of the graph\n      var width = 450,\n          height = 450,\n          margin = 40; // The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.\n\n      var radius = Math.min(width, height) / 2 - margin; // append the svg object to the div called 'my_dataviz'\n\n      var svg = d3.select(this.chRef.current).append(\"svg\").attr(\"width\", width).attr(\"height\", height).append(\"g\").attr(\"transform\", \"translate(\".concat(width / 2, \", \").concat(height / 2, \")\")); // Create dummy data\n      // const data = {a: 9, b: 20, c:30, d:8, e:12}\n      // set the color scale\n\n      var color = [\"#98abc5\", \"#8a89a6\", \"#7b6888\"]; // Compute the position of each group on the pie:\n\n      var pie = d3.pie().value(function (d) {\n        return d.Percentage;\n      });\n      var data_ready = pie(usableData);\n      var tooltip = d3.select(\"body\").data(data_ready).append(\"div\").style(\"position\", \"absolute\").style(\"z-index\", \"10\").style(\"visibility\", \"hidden\").style(\"background-color\", \"silver\").text(function (d) {\n        return d.data.Percentage * 100 + \"% \" + d.data.Type;\n      });\n      svg.selectAll().data(data_ready).join('path').attr('d', d3.arc().innerRadius(0).outerRadius(radius)).attr('fill', function (d) {\n        return colors[d.index];\n      }).attr(\"stroke\", \"black\").style(\"stroke-width\", \"2px\").style(\"opacity\", 0.7).on(\"mouseover\", function (d) {\n        d3.select(this).attr('d', function (d) {\n          return d3.arc().innerRadius(0).outerRadius(180)(d);\n        });\n        tooltip.style(\"visibility\", \"visible\");\n        console.log(this.chRef);\n        tooltip.text(function (d) {\n          return d.data.Percentage * 100 + \"% \";\n        });\n        tooltip.style(\"visibility\", \"visible\");\n      }).on(\"mousemove\", function (event) {\n        return tooltip.style(\"top\", event.pageY - 10 + \"px\").style(\"left\", event.pageX + 10 + \"px\");\n      }).on(\"mouseout\", function () {\n        d3.select(this).attr('d', function (d) {\n          return d3.arc().innerRadius(0).outerRadius(radius)(d);\n        });\n        tooltip.style(\"visibility\", \"hidden\");\n      }).call(d3.zoom().on(\"zoom\", function (event) {\n        svg.attr(\"transform\", event.transform);\n      })); // shape helper to build arcs:\n\n      var arcGenerator = d3.arc().innerRadius(0).outerRadius(radius);\n      svg.selectAll('mySlices').data(data_ready).enter().append('text').text(function (d) {\n        return d.data.Type;\n      }).attr(\"transform\", function (d) {\n        return \"translate(\" + arcGenerator.centroid(d) + \")\";\n      }).style(\"text-anchor\", \"middle\").style(\"font-size\", 17);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }\n      }, this.props.location.state), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }, \"Time Series Chart\"), /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.chRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(WordCloud, {\n        topics: topics,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(TimeSeriesChart, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return PieChart;\n}(Component);\n\nexport default withRouter(PieChart);","map":{"version":3,"sources":["/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/src/components/PieChart.js"],"names":["React","Component","withRouter","DonutJSON","d3","WordCloud","TimeSeriesChart","TopicJSON","colors","topics","PieChart","props","chRef","createRef","drawChart","width","height","margin","radius","Math","min","svg","select","current","append","attr","color","pie","value","d","Percentage","data_ready","usableData","tooltip","data","style","text","Type","selectAll","join","arc","innerRadius","outerRadius","index","on","console","log","event","pageY","pageX","call","zoom","transform","arcGenerator","enter","centroid","location","state"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport DonutJSON from \"./PieChartData.json\";\nimport * as d3 from \"d3\";\nimport WordCloud from \"./WordCloud\";\nimport TimeSeriesChart from \"./TimeSeriesChart\";\nimport TopicJSON from \"./topics.json\";\nconst colors = [ 'red' , 'blue', 'green']\n \nconst topics = TopicJSON;\nclass PieChart extends Component {\n   \n  constructor(props) {\n    super(props);\n    this.chRef = React.createRef();\n  }\n \ncomponentDidMount(){\n    this.drawChart()\n \n}\n \ndrawChart(){\n   \n\n    // set the dimensions and margins of the graph\n    var width = 450, height = 450, margin = 40\n \n// The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.\nconst radius = Math.min(width, height) / 2 - margin;\n \n// append the svg object to the div called 'my_dataviz'\nconst svg = d3.select(this.chRef.current)\n  .append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n  .append(\"g\")\n    .attr(\"transform\", `translate(${width/2}, ${height/2})`);\n \n// Create dummy data\n// const data = {a: 9, b: 20, c:30, d:8, e:12}\n \n// set the color scale\nconst color = [\"#98abc5\", \"#8a89a6\", \"#7b6888\"]\n// Compute the position of each group on the pie:\nconst pie = d3.pie()\n  .value(d => d.Percentage )  \nconst data_ready = pie(usableData)\n \nvar tooltip = d3.select(\"body\")\n    .data(data_ready)\n    .append(\"div\")\n    .style(\"position\", \"absolute\")\n    .style(\"z-index\", \"10\")\n    .style(\"visibility\", \"hidden\")\n    .style(\"background-color\", \"silver\")\n    .text((d) => d.data.Percentage*100 + \"% \"+ d.data.Type);\n \nsvg\n  .selectAll()\n  .data(data_ready)\n  .join('path')\n  .attr('d', d3.arc()\n    .innerRadius(0)\n    .outerRadius(radius)\n  )\n  .attr('fill', (d) =>  colors[d.index])\n  .attr(\"stroke\", \"black\")\n  .style(\"stroke-width\", \"2px\")\n  .style(\"opacity\", 0.7)\n  .on(\"mouseover\", function(d){\n           d3.select(this).attr('d',function(d){ return d3.arc().innerRadius(0)\n          .outerRadius(180)(d)});\n          tooltip.style(\"visibility\", \"visible\")\n          console.log(this.chRef);\n          tooltip.text((d) => d.data.Percentage*100 + \"% \")\n          tooltip.style(\"visibility\", \"visible\")})\n  .on(\"mousemove\", function(event){return tooltip.style(\"top\", (event.pageY-10)+\"px\").style(\"left\",(event.pageX+10)+\"px\");})\n  .on(\"mouseout\", function(){\n    d3.select(this).attr('d',function(d){return d3.arc().innerRadius(0).outerRadius(radius)(d)});\n                    tooltip.style(\"visibility\", \"hidden\");\n  })\n  .call(d3.zoom().on(\"zoom\", function (event) {\n    svg.attr(\"transform\", event.transform)\n }))\n \n  // shape helper to build arcs:\nvar arcGenerator = d3.arc()\n.innerRadius(0)\n.outerRadius(radius)\n \nsvg\n  .selectAll('mySlices')\n  .data(data_ready)\n  .enter()\n  .append('text')\n  .text(function(d){ return d.data.Type})\n  .attr(\"transform\", function(d) { return \"translate(\" + arcGenerator.centroid(d) + \")\";  })\n  .style(\"text-anchor\", \"middle\")\n  .style(\"font-size\", 17)\n}\n \nrender() {\n    return (\n      <>\n        <h1>{this.props.location.state}</h1>\n        <div className=\"row\">\n            <div className=\"col-md-4\">\n                <h1>Time Series Chart</h1>\n                <div ref={this.chRef}></div>\n               \n            </div>\n            <div className=\"col-md-4\">\n            <WordCloud\n                  topics={topics}\n                />\n                  </div>\n            <div className=\"col-md-4\">\n            <TimeSeriesChart />\n            </div>    \n        </div>\n        {/* <script src=\"https://d3js.org/d3.v6.js\"></script>\n        <script src=\"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/d3/dist/d3.js\"></script>\n        <script src=\"/Users/deeppatel/Desktop/Visualization/Project/csci6406_project/node_modules/d3moji/d3moji.js\"></script> */}\n      </>\n    );\n  }\n}\n \nexport default withRouter(PieChart);"]},"metadata":{},"sourceType":"module"}